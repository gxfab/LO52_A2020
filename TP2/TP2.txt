#Installation de repo
sudo apt-get install repo

#Creation du dossier android-kernel
mkdir ~/android-kernel  
cd ~/android-kernel

#Initialisation du repo du kernel hikey-linaro-android-4.19
repo init  -u https://android.googlesource.com/kernel/manifest -b hikey-linaro-android-4.19

#Synchronisation (Recupération du code source)
repo  sync

#Environnement
export CROSS_COMPILE=~/toolchain/gcc-linaro-7.5.0-2019.12-x86_64_aarch64-linux-gnu/bin/aarch64-linux-gnu-
export ARCH=arm64

#on se positionne dans le dossier hikey-linaro 
cd ~/android-kernel/hikey-linaro

#Chargement et sauvegarde de la config par défaut
make defconfig 
make savedefconfig 

#Dossier pour sauvegarder les configurations
mkdir ~/config

#Sauvegarde de la configuration par défaut 
cp defconfig ~/config/defconfig_default 
make clean

#Copie de la config de la carte ranch64 vers le dossier config
cp arch/mips/configs/generic/board-ranchu.config arch/arm64/configs/

make clean

#Chargement de la configuration ranchu64
make board-ranchu.config
#Pour sauvegarder la config
make savedefconfig

copie la configuration pour la carte ranch64 u dans le dossierconfiguration
La différence est sauvegardée dans une pétite vidéo qui se trouve ici (https://youtu.be/drKN3LU02dU)
cp defconfig ~/config/defconfig_ranchu64

#Téléchargement de linaro toolchain 
mkdir ~/toolchain
cd ~/toolchain
wget https://releases.linaro.org/components/toolchain/binaries/latest-7/aarch64-linux-gnu/gcc-linaro-7.5.0-2019.12-x86_64_aarch64-linux-gnu.tar.xz
tar -xf gcc-linaro-7.5.0-2019.12-x86_64_aarch64-linux-gnu.tar.xz

#Ajout des fonctinalités et modifications
make xconfig
make savedefconfig

#Copie de la config optimisé vers le dossier config
cp defconfig ~/config/defconfig_ranchu64_optimise

#L'image du noyau optimisé

make -j8

#L'image du noyau premiere version
make clean
make defconfig_ranchu64
make -j8



