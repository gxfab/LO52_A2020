branche téléchargée : hikey-linaro-android-4.19

Le but = construire une android device virtuelle pour pouvoir l'utiliser dans android studio?

Useful link : https://android.googlesource.com/platform/external/qemu/+/emu-master-dev/android/docs/ANDROID-KERNEL.TXT
-> ligne 65 on nous indique les 3 options possibles pour reconstruire un noyau ranchu selon l'architecture du processeur. Pour ARMv8, arch=arm64

On est donc sensé avoir des fichiers config qui corresondent à ranchu mais il n'y a que les options pour kasan (4.19) et goldfish/cuttlefish (4.14)....

https://releases.linaro.org/members/arm/openembedded/aarch64/15.07/
-> test avec build.config.gki.aarch64 (gki = generic kernel image)
"BUILD_CONFIG=hikey-linaro/build.config.gki.aarch64 build/build.sh"

- Quelques erreurs de chemin, test de remplacer le dossier "common" par "hikey-linaro" dans les 3 premieres lignes du fichier config ci-dessus et du fichier build.config.common
- Une erreur de librairie dans un fichier "extract-cert" : <openssl/bio.h> not found. On installe ce qu'il faut avec "sudo apt-get install libssl-dev"
-> Build terminé



------------Script InstallRepo.sh----------------
On utilise le shell bash car c'est le plus répandu sur linux.

Ce script créé un répertoire bin, l'ajoute à la variable PATH, enregistre dans le fichier .bashrc pour une modification permanente, et télécharge le fichier repo dans ce répertoire.
On donne enfin les droits d'execution au fichier repo avec chmod.

Note : il faut penser à donner les droits d'execution au script au préalable avec la commande suivante (depuis le répertoire du script):
"$ chmod +x InstallRepo.sh"
Ou bien utiliser sudo pour exécuter



------------Script RecupBranch.sh-----------------
Ce script créé un un répertoire "android-kernel" dans le répertoire courant et se place das celui-ci

On demande ensuite à l'utilisateur de rentrer le nom de la branche à récupérer, puis on execute la commande repo correspondante pour initialiser le repo.
Enfin on execute un "repo sync"

Note : Repo doit d'abord être installé, et il faut au préalable autoriser le fichier à s'executer comme pour le script précédent.
Ou bien utiliser sudo pour exécuter
